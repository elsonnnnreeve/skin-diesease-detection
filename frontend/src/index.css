:root{
  --bg: #f6f8fb;
  --card: #ffffff;
  --muted: #6b7280;
  --accent: #0ea5a3; /* teal */
  --accent-2: #2563eb; /* blue */
  --danger: #ef4444;
  --glass: rgba(15,23,42,0.04);
  --radius: 12px;
  --maxw: 1100px;
  color-scheme: light;
}

* { box-sizing: border-box; }
html,body,#root { height:100%; margin:0; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: var(--bg); color:#0f172a; }

.app-root { min-height: 100vh; display: flex; flex-direction: column; align-items: center; }
.site-header { width:100%; background: linear-gradient(90deg, rgba(37,99,235,0.06), rgba(14,165,163,0.03)); padding: 28px 18px; box-shadow: 0 1px 0 rgba(15,23,42,0.03); }
.site-brand { max-width: var(--maxw); margin: 0 auto; }
.site-brand h1 { margin:0; font-size: 1.9rem; letter-spacing: -0.5px; }
.tagline { margin:6px 0 0; color:var(--muted); font-size:0.95rem; }

.main-container { width:100%; max-width: var(--maxw); margin: 28px auto; padding: 0 18px; }

.card { background: transparent; width:100%; }
.upload-grid { display: grid; grid-template-columns: 380px 1fr; gap: 22px; align-items: start; }

.panel { background: var(--card); border-radius: var(--radius); padding: 18px; box-shadow: 0 6px 18px rgba(14,20,34,0.06); border: 1px solid var(--glass); }
.panel-title { display:block; font-weight:600; margin-bottom: 12px; color:#0b1220; }

.left-panel .image-box { cursor: pointer; position: relative; height: 320px; border-radius: 10px; overflow: hidden; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg,#ffffff,#fbfdff); border:1px dashed rgba(15,23,42,0.06); }
.empty-drop { text-align:center; color:var(--muted); padding:18px; }
.empty-drop svg { color: #94a3b8; margin-bottom:8px; }
.empty-text { font-weight:600; margin-top:6px; }
.helper { font-size: 12px; margin-top:8px; color:#94a3b8; }

.preview-img { width:100%; height:100%; object-fit:cover; display:block; }
.heatmap-overlay { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0.46; mix-blend-mode: overlay; pointer-events:none; }

.file-controls { margin-top: 12px; display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
.visually-hidden { position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; border:0; padding:0; }

.btn { padding: 10px 14px; border-radius: 9px; border: none; font-weight:600; cursor:pointer; }
.btn.primary { background: linear-gradient(90deg,var(--accent), var(--accent-2)); color:#fff; box-shadow: 0 6px 18px rgba(37,99,235,0.08); }
.btn.secondary { background: #fff; border:1px solid rgba(15,23,42,0.06); color:#0f172a; }
.btn.ghost { background:transparent; color:var(--muted); }

.selected-filename { font-size: 0.95rem; color: var(--muted); min-width: 200px; }

.actions { margin-left:auto; display:flex; gap:8px; align-items:center; }

.form-error { color: var(--danger); margin-top:10px; }

.right-panel { display:flex; flex-direction: column; gap:12px; }
.placeholder { color:var(--muted); padding:18px; border-radius:8px; background: #fbfdff; border:1px solid var(--glass); }

.result-card { display:flex; flex-direction:column; gap:12px; }
.result-top { display:flex; justify-content:space-between; align-items:center; gap:12px; }
.pred-class { font-size: 1.6rem; font-weight:700; color:#062b2b; }
.pred-confidence { font-weight:700; color: #065f46; background: #ecfeff; padding:6px 10px; border-radius:999px; margin-top:6px; display:inline-block; }
.explain { background:#fbfdff; padding:12px; border-radius:8px; border:1px solid var(--glass); color:#0f172a; }

.probs h4, .top3 h4 { margin:0 0 8px 0; font-size:1rem; }
.prob-list { display:flex; flex-direction:column; gap:10px; }
.prob-row { display:flex; align-items:center; gap:12px; }
.prob-label { width:72px; font-weight:600; color:#0f172a; }
.prob-bar-bg { flex:1; background:#f3f4f6; height:12px; border-radius:999px; overflow:hidden; }
.prob-bar-fill { height:100%; background: linear-gradient(90deg,var(--accent), var(--accent-2)); transition: width 700ms cubic-bezier(.2,.9,.2,1); }
.prob-value { width:72px; text-align:right; color:var(--muted); font-weight:600; }

.top3 ol { margin:6px 0 0 18px; color:var(--muted); }

.site-footer { max-width: var(--maxw); margin: 28px auto 56px; padding: 0 18px; text-align:center; color:var(--muted); font-size:0.9rem; }

/* spinner */
.spinner {
  width:16px; height:16px; border-radius:50%; border:2px solid rgba(255,255,255,0.3);
  border-top-color: rgba(255,255,255,0.95); animation: spin 1s linear infinite; display:inline-block;
}

/* responsive */
@media (max-width: 920px) {
  .upload-grid { grid-template-columns: 1fr; }
  .left-panel .image-box { height: 260px; }
  .selected-filename { min-width: 160px; }
}
@keyframes spin { to { transform: rotate(360deg); } }
